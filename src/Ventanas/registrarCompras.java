/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Ventanas;

import Clases.Conexion;
import java.awt.Color;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.swing.JOptionPane;
import java.util.ArrayList;
import javax.swing.DefaultComboBoxModel;

/**
 *
 * @author David Franco
 */
public class registrarCompras extends javax.swing.JFrame {

    String id, dia, mes, año, producto, proveedor, total, queryotro, insertar;
    double precio, totalProducto;
    int cantidad;
    Conexion bd;
    ResultSet res;
    Statement s;

    /**
     * Creates new form registrarCompras
     */
    public registrarCompras() {
        initComponents();
        registrarComprasEscribirProveedor.removeAllItems();
        
    }
    int bandera = 0;
    int bandera2 = 0;
    ArrayList<String> listaProveedores = new ArrayList<String>();
    ArrayList<String> listaProveedores2 = new ArrayList<String>();
    DefaultComboBoxModel modelo = new DefaultComboBoxModel();

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        registrarComprasEncabezado = new javax.swing.JPanel();
        registrarComprasTitulo = new javax.swing.JLabel();
        registrarComprasCuerpo = new javax.swing.JPanel();
        registrarComprasID = new javax.swing.JLabel();
        registrarComprasFecha = new javax.swing.JLabel();
        registrarComprasCostoTotal = new javax.swing.JLabel();
        registrarComprasEscribirCostoTotal = new javax.swing.JTextField();
        registrarComprasEscribirID = new javax.swing.JTextField();
        registrarComprasEscribirDia = new javax.swing.JComboBox<>();
        registrarComprasEscribirMes = new javax.swing.JComboBox<>();
        registrarComprasEscribirAño = new javax.swing.JComboBox<>();
        registrarComprasProveedor = new javax.swing.JLabel();
        registrarComprasEscribirProveedor = new javax.swing.JComboBox<>();
        registrarComprasPie = new javax.swing.JPanel();
        registrarComprasBotonAgregar = new javax.swing.JButton();
        registrarComprasBotonSalir = new javax.swing.JButton();
        registrarComprasBotonLimpiar = new javax.swing.JButton();
        registrarComprasBotonModificar = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowActivated(java.awt.event.WindowEvent evt) {
                registrarComprasCargarProveedores(evt);
            }
        });

        registrarComprasEncabezado.setBackground(new java.awt.Color(0, 0, 0));
        registrarComprasEncabezado.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasEncabezado.setForeground(new java.awt.Color(255, 255, 255));

        registrarComprasTitulo.setBackground(new java.awt.Color(0, 0, 0));
        registrarComprasTitulo.setFont(new java.awt.Font("Javanese Text", 1, 26)); // NOI18N
        registrarComprasTitulo.setForeground(new java.awt.Color(255, 255, 255));
        registrarComprasTitulo.setText("Registrar compras");
        registrarComprasTitulo.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        javax.swing.GroupLayout registrarComprasEncabezadoLayout = new javax.swing.GroupLayout(registrarComprasEncabezado);
        registrarComprasEncabezado.setLayout(registrarComprasEncabezadoLayout);
        registrarComprasEncabezadoLayout.setHorizontalGroup(
            registrarComprasEncabezadoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, registrarComprasEncabezadoLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(registrarComprasTitulo)
                .addGap(78, 78, 78))
        );
        registrarComprasEncabezadoLayout.setVerticalGroup(
            registrarComprasEncabezadoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(registrarComprasEncabezadoLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(registrarComprasTitulo, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        registrarComprasCuerpo.setBackground(new java.awt.Color(0, 0, 0));
        registrarComprasCuerpo.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasCuerpo.setForeground(new java.awt.Color(255, 255, 255));

        registrarComprasID.setBackground(new java.awt.Color(0, 0, 0));
        registrarComprasID.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasID.setForeground(new java.awt.Color(255, 255, 255));
        registrarComprasID.setText("ID de la compra");

        registrarComprasFecha.setBackground(new java.awt.Color(0, 0, 0));
        registrarComprasFecha.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasFecha.setForeground(new java.awt.Color(255, 255, 255));
        registrarComprasFecha.setText("Fecha");

        registrarComprasCostoTotal.setBackground(new java.awt.Color(0, 0, 0));
        registrarComprasCostoTotal.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasCostoTotal.setForeground(new java.awt.Color(255, 255, 255));
        registrarComprasCostoTotal.setText("Total a pagar");

        registrarComprasEscribirCostoTotal.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasEscribirCostoTotal.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasEscribirCostoTotal.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasEscribirCostoTotal.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasEscribirCostoTotal.setEnabled(false);
        registrarComprasEscribirCostoTotal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                verificaTotal(evt);
            }
        });

        registrarComprasEscribirID.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasEscribirID.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasEscribirID.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasEscribirID.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasEscribirID.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                resaltarRegistrarComprasID(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                restaurarRegistrarComprasID(evt);
            }
        });
        registrarComprasEscribirID.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                agregaCostoTotal(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                verificarIRegistrarComprasID(evt);
            }
        });

        registrarComprasEscribirDia.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasEscribirDia.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasEscribirDia.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasEscribirDia.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Dia", "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31" }));
        registrarComprasEscribirDia.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasEscribirDia.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                resaltarRegistrarComprasFechaDia(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                restaurarRegistrarComprasFechaDia(evt);
            }
        });
        registrarComprasEscribirDia.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                registrarComprasEscribirDiaActionPerformed(evt);
            }
        });

        registrarComprasEscribirMes.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasEscribirMes.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasEscribirMes.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasEscribirMes.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Mes", "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12" }));
        registrarComprasEscribirMes.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasEscribirMes.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                resaltarRegistrarComprasFechaMes(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                restaurarRegistrarComprasFechaMes(evt);
            }
        });

        registrarComprasEscribirAño.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasEscribirAño.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasEscribirAño.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasEscribirAño.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Año", "2021", "2022", "2023", "2024", "2025", "2026", "2027", "2028", "2029", "2030" }));
        registrarComprasEscribirAño.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasEscribirAño.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                resaltarRegistrarComprasFechaAño(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                restaurarRegistrarComprasFechaAño(evt);
            }
        });

        registrarComprasProveedor.setBackground(new java.awt.Color(0, 0, 0));
        registrarComprasProveedor.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasProveedor.setForeground(new java.awt.Color(255, 255, 255));
        registrarComprasProveedor.setText("Proveedor");
        registrarComprasProveedor.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        registrarComprasEscribirProveedor.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasEscribirProveedor.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasEscribirProveedor.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasEscribirProveedor.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasEscribirProveedor.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                registrarComprasEscribirProveedorItemStateChanged(evt);
            }
        });
        registrarComprasEscribirProveedor.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                resaltarRegistrarComprasProveedor(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                restaurarRegistrarComprasProveedor(evt);
            }
        });

        javax.swing.GroupLayout registrarComprasCuerpoLayout = new javax.swing.GroupLayout(registrarComprasCuerpo);
        registrarComprasCuerpo.setLayout(registrarComprasCuerpoLayout);
        registrarComprasCuerpoLayout.setHorizontalGroup(
            registrarComprasCuerpoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(registrarComprasCuerpoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(registrarComprasCuerpoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(registrarComprasCuerpoLayout.createSequentialGroup()
                        .addComponent(registrarComprasFecha, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(registrarComprasEscribirDia, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(registrarComprasEscribirMes, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(registrarComprasEscribirAño, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(registrarComprasCuerpoLayout.createSequentialGroup()
                        .addComponent(registrarComprasID)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(registrarComprasEscribirID))
                    .addGroup(registrarComprasCuerpoLayout.createSequentialGroup()
                        .addComponent(registrarComprasCostoTotal)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(registrarComprasEscribirCostoTotal))
                    .addGroup(registrarComprasCuerpoLayout.createSequentialGroup()
                        .addComponent(registrarComprasProveedor)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(registrarComprasEscribirProveedor, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addContainerGap())
        );
        registrarComprasCuerpoLayout.setVerticalGroup(
            registrarComprasCuerpoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(registrarComprasCuerpoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(registrarComprasCuerpoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(registrarComprasID)
                    .addComponent(registrarComprasEscribirID, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(registrarComprasCuerpoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(registrarComprasEscribirDia, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(registrarComprasEscribirMes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(registrarComprasEscribirAño, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(registrarComprasFecha))
                .addGap(18, 18, 18)
                .addGroup(registrarComprasCuerpoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(registrarComprasProveedor)
                    .addComponent(registrarComprasEscribirProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(registrarComprasCuerpoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(registrarComprasCostoTotal)
                    .addComponent(registrarComprasEscribirCostoTotal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        registrarComprasPie.setBackground(new java.awt.Color(0, 0, 0));
        registrarComprasPie.setForeground(new java.awt.Color(255, 255, 255));

        registrarComprasBotonAgregar.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasBotonAgregar.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasBotonAgregar.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasBotonAgregar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Agregar.jpg"))); // NOI18N
        registrarComprasBotonAgregar.setText("Agregar compra");
        registrarComprasBotonAgregar.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasBotonAgregar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                registrarComprasBotonAgregarMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                registrarComprasBotonAgregarMouseExited(evt);
            }
        });
        registrarComprasBotonAgregar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                registrarComprasBotonAgregarActionPerformed(evt);
            }
        });

        registrarComprasBotonSalir.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasBotonSalir.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasBotonSalir.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasBotonSalir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Salir.jpg"))); // NOI18N
        registrarComprasBotonSalir.setText("Salir");
        registrarComprasBotonSalir.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasBotonSalir.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                registrarComprasBotonSalirMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                registrarComprasBotonSalirMouseExited(evt);
            }
        });
        registrarComprasBotonSalir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                registrarComprasBotonSalirActionPerformed(evt);
            }
        });

        registrarComprasBotonLimpiar.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasBotonLimpiar.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasBotonLimpiar.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasBotonLimpiar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Limpiar.jpg"))); // NOI18N
        registrarComprasBotonLimpiar.setText("Limpiar");
        registrarComprasBotonLimpiar.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasBotonLimpiar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                registrarComprasBotonLimpiarMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                registrarComprasBotonLimpiarMouseExited(evt);
            }
        });
        registrarComprasBotonLimpiar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                registrarComprasBotonLimpiarActionPerformed(evt);
            }
        });

        registrarComprasBotonModificar.setBackground(new java.awt.Color(255, 255, 255));
        registrarComprasBotonModificar.setFont(new java.awt.Font("Javanese Text", 1, 14)); // NOI18N
        registrarComprasBotonModificar.setForeground(new java.awt.Color(0, 0, 0));
        registrarComprasBotonModificar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Modificar.jpg"))); // NOI18N
        registrarComprasBotonModificar.setText("Modificar");
        registrarComprasBotonModificar.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        registrarComprasBotonModificar.setEnabled(false);
        registrarComprasBotonModificar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                registrarComprasBotonModificarMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                registrarComprasBotonModificarMouseExited(evt);
            }
        });
        registrarComprasBotonModificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                registrarComprasBotonModificarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout registrarComprasPieLayout = new javax.swing.GroupLayout(registrarComprasPie);
        registrarComprasPie.setLayout(registrarComprasPieLayout);
        registrarComprasPieLayout.setHorizontalGroup(
            registrarComprasPieLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(registrarComprasPieLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(registrarComprasPieLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(registrarComprasPieLayout.createSequentialGroup()
                        .addComponent(registrarComprasBotonAgregar)
                        .addGap(29, 29, 29)
                        .addComponent(registrarComprasBotonLimpiar, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(registrarComprasBotonModificar, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, registrarComprasPieLayout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(registrarComprasBotonSalir, javax.swing.GroupLayout.PREFERRED_SIZE, 77, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(149, 149, 149)))
                .addContainerGap())
        );
        registrarComprasPieLayout.setVerticalGroup(
            registrarComprasPieLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(registrarComprasPieLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(registrarComprasPieLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(registrarComprasBotonAgregar)
                    .addComponent(registrarComprasBotonLimpiar)
                    .addComponent(registrarComprasBotonModificar))
                .addGap(18, 18, 18)
                .addComponent(registrarComprasBotonSalir)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(registrarComprasEncabezado, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(registrarComprasCuerpo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(registrarComprasPie, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(registrarComprasEncabezado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(registrarComprasCuerpo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(registrarComprasPie, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void registrarComprasBotonLimpiarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_registrarComprasBotonLimpiarActionPerformed
        // TODO add your handling code here:
        registrarComprasEscribirID.setText(null);
        registrarComprasEscribirDia.setSelectedIndex(0);
        registrarComprasEscribirMes.setSelectedIndex(0);
        registrarComprasEscribirAño.setSelectedIndex(0);
        registrarComprasEscribirProveedor.setSelectedIndex(0);
        
        try {
            bd = new Conexion();
            s = null;
            s = Conexion.conectar().createStatement();
            res = s.executeQuery("select * from proveedores");
            while (res.next()) {

                listaProveedores2.add(res.getString("empresa"));
                //listaProveedores.add(res.getString("Empresa"));
                //res.next();
                //modelo.addItem(listaproductos);
            }

            if (bandera2 == 0) {
                registrarComprasEscribirProveedor.removeAllItems();
                registrarComprasEscribirProveedor.addItem("Proveedor");//posicion 0 de la lista del combo
                for (int i = 0; i <= listaProveedores2.size(); i++) {
                    registrarComprasEscribirProveedor.addItem(listaProveedores2.get(i));
                    bandera2 = 1;
                }
            }

        } catch (Exception e) {

        }
        
        registrarComprasEscribirCostoTotal.setText(null);

        registrarComprasEscribirID.enable(true);
        registrarComprasEscribirDia.enable(true);
        registrarComprasEscribirMes.enable(true);
        registrarComprasEscribirAño.enable(true);
        registrarComprasEscribirProveedor.enable(true);
        registrarComprasBotonAgregar.setEnabled(true);
        registrarComprasBotonModificar.setEnabled(false);
        
        registrarComprasEscribirID.requestFocus();
    }//GEN-LAST:event_registrarComprasBotonLimpiarActionPerformed

    private void registrarComprasBotonSalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_registrarComprasBotonSalirActionPerformed
        // TODO add your handling code here:
        menuCompras nuevo = new menuCompras();
        this.setVisible(false);
        nuevo.setVisible(true);
    }//GEN-LAST:event_registrarComprasBotonSalirActionPerformed

    private void resaltarRegistrarComprasID(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_resaltarRegistrarComprasID
        // TODO add your handling code here:
        registrarComprasID.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasEscribirID.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_resaltarRegistrarComprasID

    private void restaurarRegistrarComprasID(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_restaurarRegistrarComprasID
        // TODO add your handling code here:
        registrarComprasID.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasEscribirID.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_restaurarRegistrarComprasID

    private void resaltarRegistrarComprasFechaDia(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_resaltarRegistrarComprasFechaDia
        // TODO add your handling code here:
        registrarComprasFecha.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasEscribirDia.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_resaltarRegistrarComprasFechaDia

    private void restaurarRegistrarComprasFechaDia(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_restaurarRegistrarComprasFechaDia
        // TODO add your handling code here:
        registrarComprasFecha.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasEscribirDia.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_restaurarRegistrarComprasFechaDia

    private void resaltarRegistrarComprasFechaMes(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_resaltarRegistrarComprasFechaMes
        // TODO add your handling code here:
        registrarComprasFecha.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasEscribirMes.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_resaltarRegistrarComprasFechaMes

    private void restaurarRegistrarComprasFechaMes(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_restaurarRegistrarComprasFechaMes
        // TODO add your handling code here:
        registrarComprasFecha.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasEscribirMes.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_restaurarRegistrarComprasFechaMes

    private void resaltarRegistrarComprasFechaAño(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_resaltarRegistrarComprasFechaAño
        // TODO add your handling code here:
        registrarComprasFecha.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasEscribirAño.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_resaltarRegistrarComprasFechaAño

    private void restaurarRegistrarComprasFechaAño(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_restaurarRegistrarComprasFechaAño
        // TODO add your handling code here:
        registrarComprasFecha.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasEscribirAño.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_restaurarRegistrarComprasFechaAño

    private void resaltarRegistrarComprasProveedor(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_resaltarRegistrarComprasProveedor
        // TODO add your handling code here:
        registrarComprasProveedor.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasEscribirProveedor.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_resaltarRegistrarComprasProveedor

    private void restaurarRegistrarComprasProveedor(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_restaurarRegistrarComprasProveedor
        // TODO add your handling code here:
        registrarComprasProveedor.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasEscribirProveedor.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_restaurarRegistrarComprasProveedor

    private void verificarIRegistrarComprasID(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_verificarIRegistrarComprasID
        // TODO add your handling code here:
        char caracter = evt.getKeyChar();

        if ((caracter < '0' || caracter > '9' && caracter != 'C')) {

            evt.consume();
        } else if (registrarComprasEscribirID.getText().length() >= 20) {

            evt.consume();
        }
    }//GEN-LAST:event_verificarIRegistrarComprasID

    private void registrarComprasBotonAgregarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_registrarComprasBotonAgregarActionPerformed
        // TODO add your handling code here:
        id = registrarComprasEscribirID.getText().toString();
        dia = registrarComprasEscribirDia.getSelectedItem().toString();
        mes = registrarComprasEscribirMes.getSelectedItem().toString();
        año = registrarComprasEscribirAño.getSelectedItem().toString();
        proveedor = registrarComprasEscribirProveedor.getSelectedItem().toString();

        if (id.length() > 0) {
            if (dia.length() == 2) {
                if (mes.length() == 2) {
                    if (año.length() == 4) {
                        if (registrarComprasEscribirProveedor.getSelectedIndex() > 0) {

                        try {
                            bd = new Conexion();
                            s = null;
                            s = Conexion.conectar().createStatement();
                            queryotro = "select * from compras where ID_compra='" + id + "';";

                            //JOptionPane.showMessageDialog(null, "es:" +proveedor);
                            if (bd.resultado(queryotro).next()) {
                                JOptionPane.showMessageDialog(null, "Ya esta registrada una compra con el mismo ID");
                                registrarComprasEscribirID.setText("");
                                registrarComprasEscribirID.requestFocus();
                                bd.cerrar();
                            } else {
                                ResultSet res2 = s.executeQuery("select id_proveedor from proveedores where empresa='" + proveedor + "';");
                                if (res2.next()) {
                                    proveedor = res2.getString("id_proveedor");
                                    insertar = "insert into compras values ('" + id + "', '" + dia + "', '" + mes + "', '" + año + "', '" + proveedor + "', 0)";
                                    s.execute(insertar);

                                    detallesCompras nuevo = new detallesCompras();
                                    this.setVisible(false);
                                    nuevo.setVisible(true);
                                    detallesCompras.detallesComprasEscribirID.setText(registrarComprasEscribirID.getText());
                                }
                            }

                        } catch (SQLException e) {
                            JOptionPane.showMessageDialog(null, "Se ah generado un error," + e);
                        }
                        } else {
                        JOptionPane.showMessageDialog(null, "Por favor rellena los campos correctamente");
                        registrarComprasEscribirProveedor.requestFocus();
                        }
                    } else {
                        JOptionPane.showMessageDialog(null, "Por favor rellena los campos correctamente");
                        registrarComprasEscribirAño.requestFocus();
                    }
                } else {
                    JOptionPane.showMessageDialog(null, "Por favor rellena los campos correctamente");
                    registrarComprasEscribirMes.requestFocus();
                }
            } else {
                JOptionPane.showMessageDialog(null, "Por favor rellena los campos correctamente");
                registrarComprasEscribirDia.requestFocus();
            }
        } else {
            JOptionPane.showMessageDialog(null, "Por favor rellena los campos correctamente");
            registrarComprasEscribirID.requestFocus();
        }
    }//GEN-LAST:event_registrarComprasBotonAgregarActionPerformed

    private void verificaTotal(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_verificaTotal
        // TODO add your handling code here:
        char caracter = evt.getKeyChar();

        if ((caracter < '0' || caracter > '9' && caracter != 'C')) {

            evt.consume();
        } else if (registrarComprasEscribirCostoTotal.getText().length() >= 9) {

            evt.consume();
        }
    }//GEN-LAST:event_verificaTotal

    private void agregaCostoTotal(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_agregaCostoTotal
        // TODO add your handling code here:

    }//GEN-LAST:event_agregaCostoTotal

    private void registrarComprasBotonModificarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_registrarComprasBotonModificarActionPerformed
        // TODO add your handling code here:
        detallesCompras nuevo = new detallesCompras();
        this.setVisible(false);
        nuevo.setVisible(true);
        detallesCompras.detallesComprasEscribirID.setText(registrarComprasEscribirID.getText());
    }//GEN-LAST:event_registrarComprasBotonModificarActionPerformed

    private void registrarComprasCargarProveedores(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_registrarComprasCargarProveedores
        // TODO add your handling code here:
        try {
            bd = new Conexion();
            s = null;
            s = Conexion.conectar().createStatement();
            res = s.executeQuery("select * from proveedores");
            while (res.next()) {

                listaProveedores.add(res.getString("empresa"));
                //listaProveedores.add(res.getString("Empresa"));
                //res.next();
                //modelo.addItem(listaproductos);
            }

            if (bandera == 0) {
                
                registrarComprasEscribirProveedor.addItem("Proveedor");//posicion 0 de la lista del combo
                for (int i = 0; i <= listaProveedores.size(); i++) {
                    registrarComprasEscribirProveedor.addItem(listaProveedores.get(i));
                    bandera = 1;
                }
            }

        } catch (Exception e) {

        }
    }//GEN-LAST:event_registrarComprasCargarProveedores

    private void registrarComprasEscribirProveedorItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_registrarComprasEscribirProveedorItemStateChanged
        // TODO add your handling code here:


    }//GEN-LAST:event_registrarComprasEscribirProveedorItemStateChanged

    private void registrarComprasBotonAgregarMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_registrarComprasBotonAgregarMouseEntered
        // TODO add your handling code here:
        registrarComprasBotonAgregar.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasBotonAgregar.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_registrarComprasBotonAgregarMouseEntered

    private void registrarComprasBotonAgregarMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_registrarComprasBotonAgregarMouseExited
        // TODO add your handling code here:
        registrarComprasBotonAgregar.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasBotonAgregar.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_registrarComprasBotonAgregarMouseExited

    private void registrarComprasBotonLimpiarMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_registrarComprasBotonLimpiarMouseEntered
        // TODO add your handling code here:
        registrarComprasBotonLimpiar.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasBotonLimpiar.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_registrarComprasBotonLimpiarMouseEntered

    private void registrarComprasBotonLimpiarMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_registrarComprasBotonLimpiarMouseExited
        // TODO add your handling code here:
        registrarComprasBotonLimpiar.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasBotonLimpiar.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_registrarComprasBotonLimpiarMouseExited

    private void registrarComprasBotonModificarMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_registrarComprasBotonModificarMouseEntered
        // TODO add your handling code here:
        registrarComprasBotonModificar.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasBotonModificar.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_registrarComprasBotonModificarMouseEntered

    private void registrarComprasBotonModificarMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_registrarComprasBotonModificarMouseExited
        // TODO add your handling code here:
        registrarComprasBotonModificar.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasBotonModificar.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_registrarComprasBotonModificarMouseExited

    private void registrarComprasBotonSalirMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_registrarComprasBotonSalirMouseEntered
        // TODO add your handling code here:
        registrarComprasBotonSalir.setFont(new java.awt.Font("javanese Text", 3, 14));
        registrarComprasBotonSalir.setBackground(new Color(0, 0, 196));
    }//GEN-LAST:event_registrarComprasBotonSalirMouseEntered

    private void registrarComprasBotonSalirMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_registrarComprasBotonSalirMouseExited
        // TODO add your handling code here:
        registrarComprasBotonSalir.setFont(new java.awt.Font("javanese Text", 1, 14));
        registrarComprasBotonSalir.setBackground(new Color(255, 255, 255));
    }//GEN-LAST:event_registrarComprasBotonSalirMouseExited

    private void registrarComprasEscribirDiaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_registrarComprasEscribirDiaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_registrarComprasEscribirDiaActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(registrarCompras.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(registrarCompras.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(registrarCompras.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(registrarCompras.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new registrarCompras().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    public static javax.swing.JButton registrarComprasBotonAgregar;
    private javax.swing.JButton registrarComprasBotonLimpiar;
    public static javax.swing.JButton registrarComprasBotonModificar;
    private javax.swing.JButton registrarComprasBotonSalir;
    private javax.swing.JLabel registrarComprasCostoTotal;
    private javax.swing.JPanel registrarComprasCuerpo;
    private javax.swing.JPanel registrarComprasEncabezado;
    public static javax.swing.JComboBox<String> registrarComprasEscribirAño;
    public static javax.swing.JTextField registrarComprasEscribirCostoTotal;
    public static javax.swing.JComboBox<String> registrarComprasEscribirDia;
    public static javax.swing.JTextField registrarComprasEscribirID;
    public static javax.swing.JComboBox<String> registrarComprasEscribirMes;
    public static javax.swing.JComboBox<String> registrarComprasEscribirProveedor;
    private javax.swing.JLabel registrarComprasFecha;
    private javax.swing.JLabel registrarComprasID;
    private javax.swing.JPanel registrarComprasPie;
    private javax.swing.JLabel registrarComprasProveedor;
    private javax.swing.JLabel registrarComprasTitulo;
    // End of variables declaration//GEN-END:variables
}
